{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var o=e=>{event.preventDefault(),e.style.display=\"flex\",e.addEventListener(\"click\",t=>{const n=t.target;\"flex\"==e.style.display&&(n.closest(\".capture-form\")&&!n.classList.contains(\"popup-close\")||(e.style.display=\"none\"))})};var l=()=>{const e=document.querySelectorAll(\".call-btn\"),t=document.querySelector(\".popup-call\");e.forEach(e=>{e.addEventListener(\"click\",()=>{o(t)})})};var r=e=>{const t=document.querySelector(e),n=t.querySelectorAll(\".panel-heading\"),o=t.querySelectorAll(\".panel-collapse\"),l=e=>{let t;const n=e.target;let l=n;if(e.preventDefault(),n.classList.contains(\"panel-heading\"))t=n.id;else if(n.closest(\".panel-heading\")){for(;!l.classList.contains(\"panel-heading\");)l=l.parentNode;t=l.id}o.forEach(e=>{let n=e.getAttribute(\"aria-labelledby\");e.style.display=\"none\",\"headingOne\"===n&&t!=n&&(n+=\"-two\"),t==n&&(e.style.display=\"flex\")})};n.forEach(e=>{e.addEventListener(\"click\",l)})};var c=(e,t={})=>{const n=document.querySelectorAll(\".\"+e),o=document.createElement(\"div\"),l=e=>{const t=e.target;if(\"user_name\"==t.name)t.value=t.value.replace(/[a-zA-Z0-9]/g,\"\");else if(\"user_phone\"==t.name){let e=t.value.replace(/(\\D|[a-zA-ZА-Яа-я])/g,\"\");t.value=\"+\"+e}};n.forEach(e=>{e.addEventListener(\"input\",l),e.addEventListener(\"submit\",n=>{n.preventDefault(),e.appendChild(o);const l=new FormData(e),r=()=>{[...e.elements].filter(e=>\"button\"!==e.tagName.toLowerCase()&&\"button\"!==e.type).forEach(e=>e.value=\"\")};l.forEach((e,n)=>{t[n]=e}),o.textContent=\"Загрузка...\",(e=>fetch(\"./server.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}))(t).then(e=>{if(200!==e.status)throw new Error(\"network status isn`t 200\");o.textContent=\"Спасибо! Мы скоро с Вами свяжемся\",setTimeout(()=>o.parentNode.removeChild(o),3e3),r()}).catch(()=>{o.textContent=\"Что то пошло не так...\",setTimeout(()=>o.parentNode.removeChild(o),3e3),r()})})})};var a=()=>{const e=document.querySelectorAll(\".construct-btn\"),t=document.querySelector(\".constructor\"),n=t.querySelectorAll(\".panel-collapse\"),o=t.querySelector(\"#calc-result\"),l=t.querySelector(\".call-btn\"),r=t.querySelectorAll(\".onoffswitch-checkbox\"),a={diameter:0,ringAmount:0,amount:1,doubleBottom:!0,total:0,diameterAdd:0,ringAmountAdd:0},d=t=>{const o=t.target;let l=0;t.preventDefault();for(let t in e)if(e[t].href===o.href){l=+t+1;break}l<4&&(n.forEach(e=>e.style.display=\"none\"),n[l].style.display=\"flex\"),s()},s=()=>{let e,n=0,l=0,c=0,d=0,s=0,i=0;const u=t.querySelectorAll(\".title-text\")[1],p=t.querySelectorAll(\".select-box\"),f=t.querySelectorAll(\".form-control\"),y=+f[0].options[f[0].selectedIndex].value,m=+f[1].options[f[1].selectedIndex].value,v=+f[2].options[f[2].selectedIndex].value,b=+f[3].options[f[3].selectedIndex].value;a.diameter=f[0].options[f[0].selectedIndex].textContent,a.ringAmount=f[1].options[f[1].selectedIndex].textContent,r[0].checked?(a.amount=1,e=1e4,u.style.display=\"none\",p[2].style.display=\"none\",p[3].style.display=\"none\",r[1].checked?(i=1e3,a.dobbleBottom=!0):a.dobbleBottom=!1):(e=15e3,u.style.display=\"block\",p[2].style.display=\"inline-block\",p[3].style.display=\"inline-block\",d=e*v/100,s=e*b/100,a.amount=2,a.diameterAdd=f[2].options[f[2].selectedIndex].textContent,a.ringAmountAdd=f[3].options[f[3].selectedIndex].textContent,r[1].checked?(i=2e3,a.dobbleBottom=!0):a.dobbleBottom=!1),l=e*y/100,c=e*m/100,n=Math.round(e+l+c+d+s+i),o.placeholder=n,a.total=n};e.forEach(e=>e.addEventListener(\"click\",d.bind(void 0))),t.addEventListener(\"change\",e=>{e.target.matches(\".form-control\")&&s()}),r.forEach(e=>e.addEventListener(\"click\",s)),l.addEventListener(\"click\",()=>{c(\"capture-form\",a)})};var d=()=>{const e=document.querySelector(\".add-sentence-btn\"),t=document.querySelectorAll(\".hidden\"),n=document.querySelectorAll(\".discount-btn\"),l=document.querySelector(\".popup-discount\");n.forEach(e=>{e.addEventListener(\"click\",()=>{o(l)})}),e.addEventListener(\"click\",e=>{e.target.style.display=\"none\",t.forEach(e=>e.classList.toggle(\"hidden\"))})};var s=()=>{const e=document.querySelector(\".consultation-btn\"),t=document.querySelector(\".popup-consultation\"),n=document.querySelector(\".director-form>input\"),l={};n.addEventListener(\"input\",e=>{const t=e.target;t.value=t.value.replace(/[a-zA-Z0-9]/g,\"\"),l[t.name]=t.value}),e.addEventListener(\"click\",()=>{o(t),c(\"capture-form\",l)})};window.addEventListener(\"DOMContentLoaded\",()=>{l(),r(\".questions\"),r(\".constructor\"),a(),c(\"capture-form\"),c(\"main-form\"),d(),s()})}]);","extractedComments":[]}