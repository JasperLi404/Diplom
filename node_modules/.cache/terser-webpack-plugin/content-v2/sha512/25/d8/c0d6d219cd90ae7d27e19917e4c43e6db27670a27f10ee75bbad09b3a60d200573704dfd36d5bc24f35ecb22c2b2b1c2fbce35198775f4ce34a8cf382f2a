{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);var o=()=>{const e=document.querySelectorAll(\".call-btn\"),t=document.querySelector(\".popup-call\"),n=e=>{e.preventDefault(),t.style.display=\"flex\"};e.forEach(e=>{e.addEventListener(\"click\",n.bind(void 0))}),t.addEventListener(\"click\",e=>{const n=e.target;\"flex\"==t.style.display&&(n.closest(\".capture-form\")&&!n.classList.contains(\"popup-close\")||(t.style.display=\"none\"))})};var l=e=>{const t=document.querySelector(e),n=t.querySelectorAll(\".panel-heading\"),o=t.querySelectorAll(\".panel-collapse\"),l=e=>{let t;const n=e.target;let l=n;if(e.preventDefault(),n.classList.contains(\"panel-heading\"))t=n.id;else if(n.closest(\".panel-heading\")){for(;!l.classList.contains(\"panel-heading\");)l=l.parentNode;t=l.id}o.forEach(e=>{let n=e.getAttribute(\"aria-labelledby\");e.style.display=\"none\",\"headingOne\"===n&&t!=n&&(n+=\"-two\"),t==n&&(e.style.display=\"flex\")})};n.forEach(e=>{e.addEventListener(\"click\",l)})};var r=(e,t={})=>{const n=document.querySelectorAll(\".\"+e),o=()=>{[...item.elements].filter(e=>\"button\"!==e.tagName.toLowerCase()&&\"button\"!==e.type).forEach(e=>e.value=\"\")},l=e=>{const t=e.target;if(\"name_1\"==t.id||\"name_2\"==t.id||\"name_3\"==t.id||\"user_guest\"==t.name)t.value=t.value.replace(/[a-zA-Z0-9]/g,\"\");else if(\"phone_1\"==t.id||\"phone_2\"==t.id||\"phone_3\"==t.id){let e=t.value.replace(/(\\D|[a-zA-ZА-Яа-я])/g,\"\");t.value=\"+\"+e}};n.forEach(e=>{e.addEventListener(\"input\",l),e.addEventListener(\"submit\",e=>{e.preventDefault();const n=e.target;for(;!n.classList.contains(\"capture-form\");)n=n.parentNode;const l=document.createElement(\"div\"),r=new FormData(n);n.appendChild(l),r.forEach((e,n)=>{t[n]=e}),l.textContent=\"Загрузка...\",(e=>fetch(\"./server.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}))(t).then(e=>{if(200!==e.status)throw new Error(\"network status isn`t 200\");l.textContent=\"Спасибо! Мы скоро с Вами свяжемся\",setTimeout(()=>l.parentNode.removeChild(l),3e3),o()}).catch(()=>{l.textContent=\"Что то пошло не так...\",setTimeout(()=>l.parentNode.removeChild(l),3e3),o()})})})};var a=()=>{const e=document.querySelectorAll(\".construct-btn\"),t=document.querySelector(\".constructor\"),n=t.querySelectorAll(\".panel-collapse\"),o=t.querySelector(\"#calc-result\"),l=t.querySelector(\".call-btn\"),a=t.querySelectorAll(\".onoffswitch-checkbox\"),c={diameter:0,ringAmount:0,amount:1,doubleBottom:!0,total:0,diameterAdd:0,ringAmountAdd:0},i=t=>{let o=t.target,l=0;t.preventDefault();for(let t in e)if(e[t].href===o.href){l=+t+1;break}l<4&&(n.forEach(e=>e.style.display=\"none\"),n[l].style.display=\"flex\")},d=()=>{let e,n=0,l=0,r=0,i=0,d=0,s=0;const u=t.querySelectorAll(\".title-text\")[1],p=t.querySelectorAll(\".select-box\"),f=t.querySelectorAll(\".form-control\"),y=+f[0].options[f[0].selectedIndex].value,m=+f[1].options[f[1].selectedIndex].value,v=+f[2].options[f[2].selectedIndex].value,b=+f[3].options[f[3].selectedIndex].value;c.diameter=f[0].options[f[0].selectedIndex].textContent,c.ringAmount=f[1].options[f[1].selectedIndex].textContent,a[0].checked?(c.amount=1,e=1e4,u.style.display=\"none\",p[2].style.display=\"none\",p[3].style.display=\"none\",a[1].checked?(s=1e3,c.dobbleBottom=!0):c.dobbleBottom=!1):(e=15e3,u.style.display=\"block\",p[2].style.display=\"inline-block\",p[3].style.display=\"inline-block\",i=e*v/100,d=e*b/100,c.amount=2,c.diameterAdd=f[2].options[f[2].selectedIndex].textContent,c.ringAmountAdd=f[3].options[f[3].selectedIndex].textContent,a[1].checked?(s=2e3,c.dobbleBottom=!0):c.dobbleBottom=!1),l=e*y/100,r=e*m/100,n=Math.round(e+l+r+i+d+s),o.placeholder=n,c.total=n};e.forEach(e=>e.addEventListener(\"click\",i.bind(void 0))),t.addEventListener(\"change\",e=>{e.target.matches(\".form-control\")&&d()}),a.forEach(e=>e.addEventListener(\"click\",d)),l.addEventListener(\"click\",()=>{r(\"capture-form\",c)})};window.addEventListener(\"DOMContentLoaded\",()=>{o(),l(\".questions\"),l(\".constructor\"),a(),r(\"main-form\"),r(\"director-form\")})}]);","extractedComments":[]}