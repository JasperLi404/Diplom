{"code":"!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"\",o(o.s=0)}([function(e,t,o){\"use strict\";o.r(t),function(){var e=new Error(\"Cannot find module './modules/toggglePopup.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var n=()=>{const e=document.querySelectorAll(\".call-btn\"),t=document.querySelector(\".popup-call\");e.forEach(e=>{e.addEventListener(\"click\",!function(){var e=new Error(\"Cannot find module './modules/toggglePopup.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}().bind(void 0,t))})};var r=e=>{const t=document.querySelector(e),o=t.querySelectorAll(\".panel-heading\"),n=t.querySelectorAll(\".panel-collapse\"),r=e=>{let t;const o=e.target;let r=o;if(e.preventDefault(),o.classList.contains(\"panel-heading\"))t=o.id;else if(o.closest(\".panel-heading\")){for(;!r.classList.contains(\"panel-heading\");)r=r.parentNode;t=r.id}n.forEach(e=>{let o=e.getAttribute(\"aria-labelledby\");e.style.display=\"none\",\"headingOne\"===o&&t!=o&&(o+=\"-two\"),t==o&&(e.style.display=\"flex\")})};o.forEach(e=>{e.addEventListener(\"click\",r)})};var l=(e,t={})=>{const o=document.querySelectorAll(\".\"+e),n=e=>{const t=e.target;if(\"name_1\"==t.id||\"name_2\"==t.id||\"name_3\"==t.id||\"user_quest\"==t.name)t.value=t.value.replace(/[a-zA-Z0-9]/g,\"\");else if(\"phone_1\"==t.id||\"phone_2\"==t.id||\"phone_3\"==t.id){let e=t.value.replace(/(\\D|[a-zA-ZА-Яа-я])/g,\"\");t.value=\"+\"+e}};o.forEach(e=>{e.addEventListener(\"input\",n),e.addEventListener(\"submit\",o=>{o.preventDefault();const n=document.createElement(\"div\"),r=new FormData(e),l=()=>{[...e.elements].filter(e=>\"button\"!==e.tagName.toLowerCase()&&\"button\"!==e.type).forEach(e=>e.value=\"\")};e.appendChild(n),r.forEach((e,o)=>{t[o]=e}),n.textContent=\"Загрузка...\",(e=>fetch(\"./server.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}))(t).then(e=>{if(200!==e.status)throw new Error(\"network status isn`t 200\");n.textContent=\"Спасибо! Мы скоро с Вами свяжемся\",setTimeout(()=>n.parentNode.removeChild(n),3e3),l()}).catch(()=>{n.textContent=\"Что то пошло не так...\",setTimeout(()=>n.parentNode.removeChild(n),3e3),l()})})})};var d=()=>{const e=document.querySelectorAll(\".construct-btn\"),t=document.querySelector(\".constructor\"),o=t.querySelectorAll(\".panel-collapse\"),n=t.querySelector(\"#calc-result\"),r=t.querySelector(\".call-btn\"),d=t.querySelectorAll(\".onoffswitch-checkbox\"),c={diameter:0,ringAmount:0,amount:1,doubleBottom:!0,total:0,diameterAdd:0,ringAmountAdd:0},a=t=>{const n=t.target;let r=0;t.preventDefault();for(let t in e)if(e[t].href===n.href){r=+t+1;break}r<4&&(o.forEach(e=>e.style.display=\"none\"),o[r].style.display=\"flex\"),i()},i=()=>{let e,o=0,r=0,l=0,a=0,i=0,s=0;const u=t.querySelectorAll(\".title-text\")[1],p=t.querySelectorAll(\".select-box\"),f=t.querySelectorAll(\".form-control\"),m=+f[0].options[f[0].selectedIndex].value,y=+f[1].options[f[1].selectedIndex].value,h=+f[2].options[f[2].selectedIndex].value,v=+f[3].options[f[3].selectedIndex].value;c.diameter=f[0].options[f[0].selectedIndex].textContent,c.ringAmount=f[1].options[f[1].selectedIndex].textContent,d[0].checked?(c.amount=1,e=1e4,u.style.display=\"none\",p[2].style.display=\"none\",p[3].style.display=\"none\",d[1].checked?(s=1e3,c.dobbleBottom=!0):c.dobbleBottom=!1):(e=15e3,u.style.display=\"block\",p[2].style.display=\"inline-block\",p[3].style.display=\"inline-block\",a=e*h/100,i=e*v/100,c.amount=2,c.diameterAdd=f[2].options[f[2].selectedIndex].textContent,c.ringAmountAdd=f[3].options[f[3].selectedIndex].textContent,d[1].checked?(s=2e3,c.dobbleBottom=!0):c.dobbleBottom=!1),r=e*m/100,l=e*y/100,o=Math.round(e+r+l+a+i+s),n.placeholder=o,c.total=o};e.forEach(e=>e.addEventListener(\"click\",a.bind(void 0))),t.addEventListener(\"change\",e=>{e.target.matches(\".form-control\")&&i()}),d.forEach(e=>e.addEventListener(\"click\",i)),r.addEventListener(\"click\",()=>{l(\"capture-form\",c)})};!function(){var e=new Error(\"Cannot find module './modules/toggglePopup.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var c=()=>{const e=document.querySelector(\".add-sentence-btn\"),t=document.querySelectorAll(\".hidden\"),o=document.querySelectorAll(\".discount-btn\"),n=document.querySelector(\".popup-discount\");o.forEach(e=>{e.addEventListener(\"click\",!function(){var e=new Error(\"Cannot find module './modules/toggglePopup.js'\");throw e.code=\"MODULE_NOT_FOUND\",e}().bind(void 0,n))}),e.addEventListener(\"click\",e=>{e.target.style.display=\"none\",t.forEach(e=>e.classList.toggle(\"hidden\"))})};window.addEventListener(\"DOMContentLoaded\",()=>{n(),r(\".questions\"),r(\".constructor\"),d(),l(\"capture-form\"),l(\"main-form\"),l(\"director-form\"),c()})}]);","extractedComments":[]}